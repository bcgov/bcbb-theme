// Subway navigation

$color-dev: rgba(232, 123, 232, 0.3);

// setup svg for borders

@function svg-color($color) {
  @return '%23' + str-slice('#{$color}', 2);
}

$stroke_width: 2px;
$stroke_color: $colorAccent-primary;
$fill_color: $colorWhite;

//$border-x:"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg id='border_x data-name='Border x' xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 10 10'%3E%3Cg id='corner'%3E%3Cline id='line-h' x1='10' y1='1' y2='1' fill='none' stroke='#{svg-color($stroke_color)}' stroke-miterlimit='10' stroke-width='#{$stroke_width}'/%3E%3C/g%3E%3C/svg%3E";

$border-x: "data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg id='border_x' data-name='border_x' xmlns='http://www.w3.org/2000/svg' width='20' height='10' viewBox='0 0 20 10'%3E%3Cline id='border_h' x1='20' y1='1' y2='1' fill='none' stroke='#{svg-color($stroke_color)}' stroke-miterlimit='10' stroke-width='#{$stroke_width}'/%3E%3C/svg%3E";

$border-y: "data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg id='border_y' data-name='border y' xmlns='http://www.w3.org/2000/svg' width='10' height='10000' viewBox='0 0 10 10000'%3E%3Cg id='border_y'%3E%3Cline id='line-v' x1='1' x2='1' y2='10000' fill='none' stroke='#{svg-color($stroke_color)}' stroke-miterlimit='10' stroke-width='#{$stroke_width}'/%3E%3C/g%3E%3C/svg%3E";

$border-corner-tl: "data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg id='corner_tl' data-name='corner-tl' xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 1em 1m'%3E%3Cg id='corner'%3E%3Cpath id='corner-tl' d='m1,11V3.67c0-1.48,1.19-2.67,2.67-2.67h7.33' fill='none' stroke='#{svg-color($stroke_color)}' stroke-miterlimit='10' stroke-width='#{$stroke_width}'/%3E%3C/g%3E%3C/svg%3E";

$border-corner-bl: "data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg id='corner-bl' data-name='corner-bl' xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 1em 1em'%3E%3Cg id='corner'%3E%3Cpath id='corner-bl' d='m1,0v7.33c0,1.48,1.19,2.67,2.67,2.67h7.33' fill='none' stroke='#{svg-color($stroke_color)}' stroke-miterlimit='10' stroke-width='#{$stroke_width}'/%3E%3C/g%3E%3C/svg%3E";

ul.bb-subway {
  padding-left: 0;
  list-style: none;
  ul {
    list-style: none;
    padding-left: 0;
  }
  li {
    position: relative;
    padding-left: .75em;
    a {
      display: block;
      padding-bottom: .5em;
      &::before {
        position: absolute;
        top: .25em;
        margin-left: -1.25em;
        border: $stroke_width solid $stroke_color;
        background: $fill_color;
        //content: '\25CF';
        overflow: hidden;
        content: ' ';
        border-radius: 50%;
        width: 1em;
        height: 1em;
        //transition: width .2s ease-in-out, height .2s ease-in-out, margin-left .2s ease-in-out, top .2s ease-in-out, color .2s ease-in-out;
      }
      &:hover,
      &:focus,
      &:active,
      .active {
        &::before {
          //width: 1.1em;
         // height: 1.1em;
         transition: all .3s ease-in-out;
         transform: scale(1.15,1.15);
         border-radius: 50%;
        background: $stroke_color;
        }       
      }
    }
    &>ul {
      padding-bottom: 1.5em;
    }
  }

  &>li {
    background-image: url($border-y), url($border-x);
    background-repeat: no-repeat;
    background-position: 0, 0 .7em;
    padding-left: 1.75em;
    &:first-child {
      background-image: url($border-corner-tl), url($border-y);
      background-position: 0 .67em, 0 1em;

    }
    &:last-child {
      background-image: url($border-corner-bl), url($border-y);
      background-position: bottom .95em left 0, bottom 1.5em left 0;
    }
  }

  li > ul > li {
    a {
      &::before {
        width: .75em;
        height: .75em;
      }
    }
    li {
      a {
        &::before {
          width: .5em;
          height: .5em;
        }
      }
    }
  }
}

